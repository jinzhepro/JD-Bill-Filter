# AGENTS.md - Ask Mode

This file provides guidance to agents when working with code in this repository.

## 项目文档说明

### 业务流程

- 订单处理：处理京东订单数据，包括售后服务单、非销售单和普通订单
- 结算单处理：合并相同 SKU 的应结金额，支持多种金额列名
- 商品合并：合并多个表格中相同商品编号的商品数据

### 核心概念

- 商品编号：必须保持为字符串格式，防止 Excel 自动转换为数字
- 金额计算：使用 Decimal 类型确保精度，最后转换为数字显示
- 文件格式：支持 Excel (.xlsx, .xls) 和 CSV 文件

### 数据结构

- 订单数据：包含订单编号、单据类型、费用项、商品编号、商品名称、商品数量、金额
- 结算单数据：包含商品编号、商品名称、应结金额（或类似名称的金额列）
- 商品合并数据：包含商品名称、商品编号、单价、商品数量、总价

### 特殊处理

- CSV 文件编码：自动检测并处理 UTF-8 和 GBK 编码
- Excel 商品编号：清理 `="..."` 格式，确保纯文本
- 多文件合并：支持同时上传多个文件进行合并处理
